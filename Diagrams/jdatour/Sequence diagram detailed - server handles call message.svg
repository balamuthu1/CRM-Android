<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1151" height="543"><defs/><g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 5 0 L 1136 0 L 1136 523 L 5 523 L 5 0" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 5 0 L 5 22 L 415.5576171875 22 L 426.5576171875 11 L 426.5576171875 0 L 5 0"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 5 0 L 5 22 L 415.5576171875 22 L 426.5576171875 11 L 426.5576171875 0 L 5 0 L 5 0" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="75.97900390625" y="17.5">Sequence diagram detailed - server handles call message</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="10" y="17.5">interaction</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="23" y="47" width="129.4873046875" height="39" opacity="0.2"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="16" y="40" width="129.4873046875" height="39"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 16 40 L 145.4873046875 40 L 145.4873046875 79 L 16 79 L 16 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="30.162353515625" y="59.5">: NotifierEndPoint</text></g></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 81.5 80 L 81.5 512" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="335" y="47" width="143.97265625" height="39" opacity="0.2"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="328" y="40" width="143.97265625" height="39"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 328 40 L 471.97265625 40 L 471.97265625 79 L 328 79 L 328 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="341.82275390625" y="59.5">: MessageController</text></g></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 400.5 80 L 400.5 512" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="623" y="47" width="112.89453125" height="39" opacity="0.2"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="616" y="40" width="112.89453125" height="39"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 616 40 L 728.89453125 40 L 728.89453125 79 L 616 79 L 616 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="629.4609375" y="59.5">: CallController</text></g></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 673.5 80 L 673.5 514" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1059.9718695746528" y="40" width="34.44444444444434" height="40"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 1059.9718695746528 40 L 1094.4163140190972 40 L 1094.4163140190972 80 L 1059.9718695746528 80 L 1059.9718695746528 40 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1049.9718695746528" y="47" width="20" height="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 1049.9718695746528 47 L 1069.9718695746528 47 L 1069.9718695746528 57 L 1049.9718695746528 57 L 1049.9718695746528 47 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1049.9718695746528" y="67" width="20" height="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 1049.9718695746528 67 L 1069.9718695746528 67 L 1069.9718695746528 77 L 1049.9718695746528 77 L 1049.9718695746528 67 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1032.083251953125" y="99.5">: Phonintheair</text></g></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 1073.5 105 L 1073.5 512" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 760 104 L 973 104 L 983 114 L 983 260 L 760 260 L 760 104"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 760 104 L 973 104 L 983 114 L 983 260 L 760 260 L 760 104 L 760 104" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 973 104 L 973 114 L 983 114 L 973 104" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="122">&lt;&lt;websocket&gt;&gt;</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="137">message : {</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="152">  messageMeta : {</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="167">    messageType : CALL</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="182">  }</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="197">  call : {</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="212">    phoneNumber : phoneNumber</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="227">  }</text></g></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="765" y="242">}</text></g></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 869 472 L 871 262" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 81 96 L 111 96 L 111 116 L 87 116" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 97.16267485762415 111.79048224398402 L 87 116 L 97.16267485762415 120.20951775601598"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 97.16267485762415 111.79048224398402 L 87 116 L 97.16267485762415 120.20951775601598 L 97.16267485762415 111.79048224398402" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="120" y="112">1 : onMessage(body, session)</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="74" y="116" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 74 116 L 87 116 L 87 144 L 74 144 L 74 116 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 81 152 L 111 152 L 111 172 L 87 172" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 97.16267485762415 167.790482243984 L 87 172 L 97.16267485762415 176.209517756016"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 97.16267485762415 167.790482243984 L 87 172 L 97.16267485762415 176.209517756016 L 97.16267485762415 167.790482243984" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="120" y="168">2 : message = JSONHelper.deserialize(body)</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="74" y="172" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 74 172 L 87 172 L 87 200 L 74 200 L 74 172 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 81 224 L 393 224" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 382.83732514237585 228.209517756016 L 393 224 L 382.83732514237585 219.790482243984"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 382.83732514237585 228.209517756016 L 393 224 L 382.83732514237585 219.790482243984 L 382.83732514237585 228.209517756016" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="126" y="221">3 : handleMessage(message, session)</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="393" y="224" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 393 224 L 406 224 L 406 252 L 393 252 L 393 224 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 400 266 L 666 266" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 655.8373251423759 270.209517756016 L 666 266 L 655.8373251423758 261.790482243984"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 655.8373251423759 270.209517756016 L 666 266 L 655.8373251423758 261.790482243984 L 655.8373251423759 270.209517756016" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="415" y="263">4 : call(session, message.phoneNumber)</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="666" y="266" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 666 266 L 679 266 L 679 294 L 666 294 L 666 266 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 673 328 L 703 328 L 703 348 L 679 348" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 689.1626748576241 343.790482243984 L 679 348 L 689.1626748576241 352.209517756016"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 689.1626748576241 343.790482243984 L 679 348 L 689.1626748576241 352.209517756016 L 689.1626748576241 343.790482243984" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="712" y="341">5 : phoneSession = findSessionMatchingWithGivenSession</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="666" y="348" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 666 348 L 679 348 L 679 376 L 666 376 L 666 348 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 673 392 L 703 392 L 703 412 L 679 412" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 689.1626748576241 407.790482243984 L 679 412 L 689.1626748576241 416.209517756016"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 689.1626748576241 407.790482243984 L 679 412 L 689.1626748576241 416.209517756016 L 689.1626748576241 407.790482243984" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="711" y="408">6 : callMessage = buildCallMessage(phoneNumber)</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="666" y="412" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 666 412 L 679 412 L 679 440 L 666 440 L 666 412 Z Z" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 673 472 L 1066 472" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 1055.837325142376 476.209517756016 L 1066 472 L 1055.837325142376 467.790482243984"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 1055.837325142376 476.209517756016 L 1066 472 L 1055.837325142376 467.790482243984 L 1055.837325142376 476.209517756016" stroke-miterlimit="10"/></g><g transform="translate(5,10) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="737" y="469">7 : phoneSession.sendMessage(callMessage)</text></g></g><g transform="translate(5,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1066" y="472" width="13" height="28"/></g><g transform="translate(5,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 1066 472 L 1079 472 L 1079 500 L 1066 500 L 1066 472 Z Z" stroke-miterlimit="10"/></g></g></svg>